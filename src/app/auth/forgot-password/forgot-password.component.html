<form [formGroup]="form" *ngIf="form" (ngSubmit)="onSubmit()">
    <ng-template [ngIf]="!succuessMessage">
        <div class="controls">
            <div class="form-group">
                <input type="text" id="email" formControlName="emailAddress" placeholder="Email Address"
                    class="form-control" (keydown.space)="$event.preventDefault()" />
                <div *ngIf="formSubmitted && 
                form.get('emailAddress').touched && 
                form.get('emailAddress').errors && 
                form.get('emailAddress').errors['requiredWithTrim']"
                    class="mt-1 help-block error">
                    Email Address is required
                </div>
                <div *ngIf="formSubmitted && form.get('emailAddress').touched && form.get('emailAddress').errors 
                && (formSubmitted && form.get('emailAddress').errors['smartriseEmail'] && !form.get('emailAddress').errors['trimError'])"
                    class="mt-1 help-block error">
                    Please enter a valid email
                </div>
                <div *ngIf="formSubmitted && form.get('emailAddress').touched && form.get('emailAddress').errors && form.get('emailAddress').errors['trimError']"
                    class="mt-1 help-block error">
                    This field can't start or end with a blank space
                </div>
            </div>
        </div>

        <div class="actions text-right mt-4 ">
            <button class="btn btn-lg btn-primary px-3 mr-2" type="button" (click)="goToLogin()">
                <i class="fas fa-chevron-left"></i>
                Go to Login
            </button>

            <ngx-button [isLoading]="isLoading" class="btn btn-lg btn-primary button-width"
                type="submit">
                <i class="fas fa-share"></i>
                Send
            </ngx-button>
        </div>

    </ng-template>
    <ng-template [ngIf]="succuessMessage">
        <div class="alert alert-success font-weight-bold">
            {{ succuessMessage }}
        </div>
        <div class="text-right">
            <button class="btn btn-primary" (click)="goToLogin()">
                <i class="fas fa-chevron-left"></i>
                Go to Login</button>
        </div>
    </ng-template>
</form>